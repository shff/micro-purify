!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("glob")):"function"==typeof define&&define.amd?define(["glob"],t):e.purifyCss=t(e.glob)}(this,function(e){e=e&&e.hasOwnProperty("default")?e.default:e;var t=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g;function r(e){return e?e.replace(/^\s+|\s+$/g,""):""}function n(e){void 0===e&&(e={}),this.options=e}n.prototype.compile=function(e){return this.stylesheet(e)},n.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules)},n.prototype.mapVisit=function(e){var t=this;return e.map(function(e){return t[e.type](e)}).join("")},n.prototype.comment=function(){return""},n.prototype.import=function(e){return"@import "+e.import+";"},n.prototype.media=function(e){return"@media "+e.media+"{"+this.mapVisit(e.rules)+"}"},n.prototype.document=function(e){return"@"+(e.vendor||"")+"document "+e.document+"  {"+this.mapVisit(e.rules)+"}"},n.prototype.charset=function(e){return"@charset "+e.charset+";"},n.prototype.namespace=function(e){return"@namespace "+e.namespace+";"},n.prototype.supports=function(e){return"@supports "+e.supports+" {"+this.mapVisit(e.rules)+"}"},n.prototype.keyframes=function(e){return"@"+(e.vendor||"")+"keyframes "+e.name+" {"+this.mapVisit(e.keyframes)+"}"},n.prototype.keyframe=function(e){var t=e.declarations;return e.values.join(", ")+" {"+this.mapVisit(t)+"}"},n.prototype.page=function(e){var t=e.selectors,r=e.declarations;return"@page "+(t.length?t.join(", ")+" ":"")+"{"+this.mapVisit(r)+"}"},n.prototype["font-face"]=function(e){return"@font-face {"+this.mapVisit(e.declarations)+"}"},n.prototype.host=function(e){return"@host {"+this.mapVisit(e.rules)+"}"},n.prototype["custom-media"]=function(e){return"@custom-media "+e.name+" "+e.media+";"},n.prototype.rule=function(e){var t=e.declarations;return t.length?e.selectors.join(",")+"{"+this.mapVisit(t)+"}":""},n.prototype.declaration=function(e){return e.property+": "+e.value+";"};var i=require("fs"),o=function(t){return Array.isArray(t)?function(e,t){return e.reduce(function(e,t){var r="";try{r=i.readFileSync(t,"utf8").toLowerCase()}catch(e){console.warn(e.message)}return""+e+r+" "},"")}(t=function(r){for(var n={},o=0,s=t;o<s.length;o+=1){var a=s[o];try{i.statSync(a),n[a]=!0}catch(t){e.sync(a).forEach(function(e){n[e]=!0})}}return Object.keys(n)}()):t},s=(require("fs"),function(e,t){for(var r=0,n=e;r<n.length;r+=1){var i=n[r];"rule"===i.type?t(i):"media"===i.type&&s(i.rules,t)}}),a=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var i=n[r];"rule"===i.type&&0===i.selectors.length?t.push(i):"media"===i.type&&(a(i.rules),0===i.rules.length&&t.push(i))}t.forEach(function(t){return e.splice(e.indexOf(t),1)})};return function(e,i,u){void 0===u&&(u={});var c,f=u.whitelist||[],p=o(i),m=o(e).toLowerCase().split(/[^a-z]/g).concat(["body","html"]).concat(f),l=function(e,n){n=n||{};var i=1,o=1;function s(e){var t=e.match(/\n/g);t&&(i+=t.length);var r=e.lastIndexOf("\n");o=~r?e.length-r:o+e.length}function a(){var e={line:i,column:o};return function(t){return t.position=new u(e),h(),t}}function u(e){this.start=e,this.end={line:i,column:o},this.source=n.source}u.prototype.content=e;var c=[];function f(t){var r=new Error(n.source+":"+i+":"+o+": "+t);if(r.reason=t,r.filename=n.source,r.line=i,r.column=o,r.source=e,!n.silent)throw r;c.push(r)}function p(){return y(/^{\s*/)}function m(){return y(/^}/)}function l(){var t,r,n,i=[];for(h(),v(i);e.length&&"}"!=e.charAt(0)&&(t=x()||(r=void 0,r=a(),(n=g())?(v(),r({type:"rule",selectors:n,declarations:k()})):f("selector missing")));)!1!==t&&(i.push(t),v(i));return i}function y(t){var r=t.exec(e);if(r){var n=r[0];return s(n),e=e.slice(n.length),r}}function h(){y(/^\s*/)}function v(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=a();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var r=2;""!=e.charAt(r)&&("*"!=e.charAt(r)||"/"!=e.charAt(r+1));)++r;if(""===e.charAt((r+=2)-1))return f("End of comment missing");var n=e.slice(2,r-2);return o+=2,s(n),e=e.slice(r),o+=2,t({type:"comment",comment:n})}}function g(){var e=y(/^([^{]+)/);if(e)return r(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"â€Œ")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function w(){var e=a(),n=y(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(n){if(n=r(n[0]),!y(/^:\s*/))return f("property missing ':'");var i=y(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),o=e({type:"declaration",property:n.replace(t,""),value:i?r(i[0]).replace(t,""):""});return y(/^[;\s]*/),o}}function k(){var e,t=[];if(!p())return f("missing '{'");for(v(t);e=w();)!1!==e&&(t.push(e),v(t));return m()?t:f("missing '}'")}function b(){for(var e,t=[],r=a();e=y(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),y(/^,\s*/);if(t.length)return r({type:"keyframe",values:t,declarations:k()})}var A=E("import"),V=E("charset"),j=E("namespace");function E(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var r=a(),n=y(t);if(n){var i={type:e};return i[e]=n[1].trim(),r(i)}}}function x(){if("@"==e[0])return function(){var e=a();if(t=y(/^@([-\w]+)?keyframes\s*/)){var t,r=t[1];if(!(t=y(/^([-\w]+)\s*/)))return f("@keyframes missing name");var n,i=t[1];if(!p())return f("@keyframes missing '{'");for(var o=v();n=b();)o.push(n),o=o.concat(v());return m()?e({type:"keyframes",name:i,vendor:r,keyframes:o}):f("@keyframes missing '}'")}}()||function(){var e=a(),t=y(/^@media *([^{]+)/);if(t){var n=r(t[1]);if(!p())return f("@media missing '{'");var i=v().concat(l());return m()?e({type:"media",media:n,rules:i}):f("@media missing '}'")}}()||function(){var e=a(),t=y(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:r(t[1]),media:r(t[2])})}()||function(){var e=a(),t=y(/^@supports *([^{]+)/);if(t){var n=r(t[1]);if(!p())return f("@supports missing '{'");var i=v().concat(l());return m()?e({type:"supports",supports:n,rules:i}):f("@supports missing '}'")}}()||A()||V()||j()||function(){var e=a(),t=y(/^@([-\w]+)?document *([^{]+)/);if(t){var n=r(t[1]),i=r(t[2]);if(!p())return f("@document missing '{'");var o=v().concat(l());return m()?e({type:"document",document:i,vendor:n,rules:o}):f("@document missing '}'")}}()||function(){var e=a();if(y(/^@page */)){var t=g()||[];if(!p())return f("@page missing '{'");for(var r,n=v();r=w();)n.push(r),n=n.concat(v());return m()?e({type:"page",selectors:t,declarations:n}):f("@page missing '}'")}}()||function(){var e=a();if(y(/^@host\s*/)){if(!p())return f("@host missing '{'");var t=v().concat(l());return m()?e({type:"host",rules:t}):f("@host missing '}'")}}()||function(){var e=a();if(y(/^@font-face\s*/)){if(!p())return f("@font-face missing '{'");for(var t,r=v();t=w();)r.push(t),r=r.concat(v());return m()?e({type:"font-face",declarations:r}):f("@font-face missing '}'")}}()}return function e(t,r){var n=t&&"string"==typeof t.type,i=n?t:r;for(var o in t){var s=t[o];Array.isArray(s)?s.forEach(function(t){e(t,i)}):s&&"object"==typeof s&&e(s,i)}return n&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:r||null}),t}({type:"stylesheet",stylesheet:{rules:l(),parsingErrors:c}})}(p),y=l.stylesheet.rules;return s(y,function(e){return e.selectors=(t=m,e.selectors.filter(function(e){var r=function(e){return e.replace(/\[(.*?)\]/g,"").replace(/[:*][a-z-_:]+/g,"").toLowerCase().match(/[a-z]+/g)||[]}(e);return r.filter(function(e){return t.includes(e)}).length===r.length}));var t}),a(y),c=l,new n(void 0).compile(c)}});
//# sourceMappingURL=purifycss.umd.js.map
